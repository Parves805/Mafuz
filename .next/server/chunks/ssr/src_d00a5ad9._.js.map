{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YACC,KAAK;YACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIf,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAM,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,mBAAmB;QAAa,GAAG,KAAK;;;;;;AAEzE,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,2DACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,+EACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,oGACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,kDAAkD;QAC/D,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/admin/customers/page.tsx"],"sourcesContent":["\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar';\nimport type { Order } from '@/lib/types';\nimport { Skeleton } from '@/components/ui/skeleton';\n\ninterface Customer {\n  email: string;\n  name: string;\n  phone: string;\n  orderCount: number;\n  totalSpent: number;\n}\n\nexport default function AdminCustomersPage() {\n    const [customers, setCustomers] = useState<Customer[]>([]);\n    const [isLoading, setIsLoading] = useState(true);\n\n    useEffect(() => {\n        try {\n            const savedOrders = localStorage.getItem('bazaargoUserOrders');\n            if (savedOrders) {\n                const parsedOrders = JSON.parse(savedOrders);\n                if (Array.isArray(parsedOrders)) {\n                    const orders: Order[] = parsedOrders;\n                    \n                    const customerData = orders.reduce((acc, order) => {\n                        // Ensure order and shippingInfo are valid before processing\n                        if (!order || !order.shippingInfo || !order.shippingInfo.email) {\n                            return acc;\n                        }\n\n                        const email = order.shippingInfo.email;\n                        const existingCustomer = acc.get(email);\n\n                        if (existingCustomer) {\n                            acc.set(email, {\n                                ...existingCustomer,\n                                orderCount: existingCustomer.orderCount + 1,\n                                totalSpent: existingCustomer.totalSpent + order.total,\n                            });\n                        } else {\n                            acc.set(email, {\n                                email: email,\n                                name: order.shippingInfo.name || 'N/A',\n                                phone: order.shippingInfo.phone || 'N/A',\n                                orderCount: 1,\n                                totalSpent: order.total,\n                            });\n                        }\n                        return acc;\n                    }, new Map<string, Customer>());\n\n                    const sortedCustomers = Array.from(customerData.values()).sort((a, b) => b.totalSpent - a.totalSpent);\n                    setCustomers(sortedCustomers);\n                }\n            }\n        } catch (error) {\n            console.error(\"Failed to process customer data from localStorage\", error);\n        } finally {\n            setIsLoading(false);\n        }\n    }, []);\n\n    const CustomerRowSkeleton = () => (\n        <TableRow>\n            <TableCell>\n                <div className=\"flex items-center gap-3\">\n                    <Skeleton className=\"h-9 w-9 rounded-full\" />\n                    <Skeleton className=\"h-4 w-32\" />\n                </div>\n            </TableCell>\n            <TableCell><Skeleton className=\"h-4 w-48\" /></TableCell>\n            <TableCell><Skeleton className=\"h-4 w-24\" /></TableCell>\n            <TableCell className=\"text-center\"><Skeleton className=\"h-4 w-8 mx-auto\" /></TableCell>\n            <TableCell className=\"text-right\"><Skeleton className=\"h-4 w-20 ml-auto\" /></TableCell>\n        </TableRow>\n    );\n\n    return (\n        <div className=\"max-w-7xl mx-auto w-full\">\n            <Card>\n                <CardHeader>\n                    <CardTitle>Customers</CardTitle>\n                    <CardDescription>A list of your customers and their purchase history.</CardDescription>\n                </CardHeader>\n                <CardContent>\n                    <Table>\n                        <TableHeader>\n                            <TableRow>\n                                <TableHead>Customer</TableHead>\n                                <TableHead>Email</TableHead>\n                                <TableHead>Phone</TableHead>\n                                <TableHead className=\"text-center\">Orders</TableHead>\n                                <TableHead className=\"text-right\">Total Spent</TableHead>\n                            </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                            {isLoading ? (\n                                <>\n                                    <CustomerRowSkeleton />\n                                    <CustomerRowSkeleton />\n                                    <CustomerRowSkeleton />\n                                    <CustomerRowSkeleton />\n                                    <CustomerRowSkeleton />\n                                </>\n                            ) : customers.length > 0 ? (\n                                customers.map((customer) => (\n                                    <TableRow key={customer.email}>\n                                        <TableCell>\n                                            <div className=\"flex items-center gap-3\">\n                                                <Avatar className=\"h-9 w-9\">\n                                                    <AvatarFallback>{customer.name ? customer.name.charAt(0).toUpperCase() : '?'}</AvatarFallback>\n                                                </Avatar>\n                                                <span className=\"font-medium\">{customer.name}</span>\n                                            </div>\n                                        </TableCell>\n                                        <TableCell>{customer.email}</TableCell>\n                                        <TableCell>{customer.phone}</TableCell>\n                                        <TableCell className=\"text-center\">{customer.orderCount}</TableCell>\n                                        <TableCell className=\"text-right\">৳{customer.totalSpent.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</TableCell>\n                                    </TableRow>\n                                ))\n                            ) : (\n                                <TableRow>\n                                    <TableCell colSpan={5} className=\"text-center\">No customers found.</TableCell>\n                                </TableRow>\n                            )}\n                        </TableBody>\n                    </Table>\n                </CardContent>\n            </Card>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}